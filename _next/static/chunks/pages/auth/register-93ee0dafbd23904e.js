(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{40941:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return n(84757)}])},61124:function(e,r,n){"use strict";n.d(r,{I:function(){return d}});var s=n(26042),o=n(69396),a=n(99534),t=n(85893),i=n(57422),l=(0,n(16829).Z)(i.Z)({"& .MuiFormHelperText-root.Mui-error":{position:"absolute",top:"100%"}}),d=function(e){var r=e.children,n=(0,a.Z)(e,["children"]);return(0,t.jsx)(l,(0,o.Z)((0,s.Z)({},n),{children:r}))}},62077:function(e,r,n){"use strict";n.d(r,{a:function(){return l}});var s=n(26042),o=n(99534),a=n(85893),t=n(87357),i=n(98456),l=function(e){var r=e.backdrop,n=e.sx;(0,o.Z)(e,["backdrop","sx"]);var l=(0,a.jsx)(t.Z,{sx:(0,s.Z)({position:"absolute",bottom:0,top:0,left:0,right:0,bgcolor:r?"rgb(0 0 1 / 30%)":"transparent",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},n),children:(0,a.jsx)(i.Z,{disableShrink:!0,color:"primary"})});return(0,a.jsx)(a.Fragment,{children:l})}},95993:function(e,r,n){"use strict";n.d(r,{A:function(){return l}});var s=n(85893),o=n(45697),a=n.n(o),t=n(87357),i=n(76515),l=function(e){var r,n=e.children,o=e.title?e.title:null!==(r=e.children)&&void 0!==r&&!!r.props.title&&e.children.props.title;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{title:o}),(0,s.jsxs)(t.Z,{sx:{backgroundColor:"background.default",display:"flex",flex:"1 1 auto",flexDirection:{xs:"column-reverse",md:"row"}},children:[(0,s.jsx)(t.Z,{sx:{alignItems:"center",backgroundColor:"#222223",backgroundImage:'url("/assets/auth_bg.svg")',backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:"common.white",display:"flex",flex:{xs:"0 0 auto",md:"1 1 auto"},justifyContent:"center",p:{xs:4,md:8}},children:(0,s.jsx)("img",{src:"/assets/logo.svg",alt:"",style:{maxWidth:"600px"}})}),(0,s.jsx)(t.Z,{sx:{backgroundColor:"background.paper",display:"flex",flex:{xs:"1 1 auto",md:"0 0 auto"},flexDirection:"column",justifyContent:{md:"center"},maxWidth:"100%",p:{xs:4,md:8},width:{md:500}},children:(0,s.jsx)("div",{children:n})})]})]})};l.propTypes={children:a().node}},84757:function(e,r,n){"use strict";n.r(r);var s=n(47568),o=n(828),a=n(20414),t=n(85893),i=n(41664),l=n.n(i),d=n(74231),u=n(82580),c=n(3269),h=n(50657),m=n(37645),p=n(93946),x=n(6514),f=n(31425),g=n(83321),b=n(26447),v=n(15861),j=n(23795),Z=n(87109),w=n(87357),y=n(56815),_=n(95993),C=n(93041),k=n(67294),I=n(95537),B=n(52186),T=n(58883),P=n(61124),S=n(17288),E=n(86501),W=n(62077),q={email:"",name:"",password:"",password_confirm:"",phone:"",company:""},F=d.Ry({email:d.Z_().email("Must be a valid email").max(255).required("Email is required"),name:d.Z_().max(255).required("Name is required"),password:d.Z_().min(8).max(255).required("Password is required"),password_confirm:d.Z_().oneOf([d.iH("password")],"Passwords must match").max(255).required("Password is required"),phone:d.Z_(),company:d.Z_()}),N=function(){var e=(0,o.Z)((0,k.useState)(!1),2),r=e[0],n=e[1];return{modalOpen:r,handleModal:function(){n(!r)}}},A=function(){var e,r=(0,o.Z)((0,k.useState)(!1),2),n=r[0],i=r[1],d=(0,S.a)(),_=d.loading,A=d.error,O=d.register,R=N(),M=R.modalOpen,z=R.handleModal;(0,k.useEffect)(function(){A&&E.ZP.error(A.message?A.message:"En error has occurred")},[A]);var V=(0,u.TA)({initialValues:q,validationSchema:F,onSubmit:(e=(0,s.Z)(function(e,r){var n,s,o;return(0,a.__generator)(this,function(a){switch(a.label){case 0:for(var t in a.trys.push([0,2,,3]),(null===(n=e.phone)||void 0===n?void 0:n.length)&&(e.phone=e.phone.replace(/[^0-9]/g,"")),e)""===e[t]&&delete e[t];return[4,O(e)];case 1:return console.log(s=a.sent()),s.error||z(),[3,3];case 2:return console.error(o=a.sent()),r.setStatus({success:!1}),r.setErrors({submit:o.message}),r.setSubmitting(!1),[3,3];case 3:return[2]}})}),function(r,n){return e.apply(this,arguments)})});return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{children:[_&&(0,t.jsx)(W.a,{backdrop:!0}),(0,t.jsxs)(h.Z,{open:M,onClose:z,scroll:"paper",maxWidth:"lg",children:[(0,t.jsxs)(m.Z,{sx:{pr:10},children:[(0,t.jsx)(p.Z,{"aria-label":"close",onClick:z,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.primary.main}},children:(0,t.jsx)(I.Z,{})}),"Registration confirm"]}),(0,t.jsx)(x.Z,{dividers:!0,children:"To complete your registration please check your email."}),(0,t.jsx)(f.Z,{children:(0,t.jsx)(g.Z,{type:"button",variant:"contained",onClick:z,children:"OK"})})]}),(0,t.jsxs)(b.Z,{sx:{mb:4},spacing:1,children:[(0,t.jsx)(v.Z,{variant:"h5",children:"Register"}),(0,t.jsxs)(v.Z,{color:"text.secondary",variant:"body2",children:["Already have an account? \xa0",(0,t.jsx)(j.Z,{component:l(),href:C.H.login,underline:"hover",variant:"subtitle2",children:"Log in"})]})]}),(0,t.jsxs)("form",{noValidate:!0,onSubmit:V.handleSubmit,children:[(0,t.jsxs)(b.Z,{spacing:3,children:[(0,t.jsx)(P.I,{error:!!(V.touched.name&&V.errors.name),fullWidth:!0,helperText:V.touched.name&&V.errors.name,label:"Name",name:"name",onBlur:V.handleBlur,onChange:V.handleChange,value:V.values.name}),(0,t.jsx)(P.I,{error:!!(V.touched.email&&V.errors.email),fullWidth:!0,helperText:V.touched.email&&V.errors.email,label:"Email Address",name:"email",onBlur:V.handleBlur,onChange:V.handleChange,type:"email",value:V.values.email}),(0,t.jsx)(P.I,{error:!!(V.touched.password&&V.errors.password),fullWidth:!0,helperText:V.touched.password&&V.errors.password,label:"Password",name:"password",onBlur:V.handleBlur,onChange:V.handleChange,type:n?"text":"password",value:V.values.password,InputProps:{endAdornment:(0,t.jsx)(Z.Z,{position:"end",children:(0,t.jsx)(p.Z,{"aria-label":"toggle password visibility",onClick:function(){i(!n)},color:"primary",children:n?(0,t.jsx)(B.Z,{}):(0,t.jsx)(T.Z,{})})})}}),(0,t.jsx)(P.I,{error:!!(V.touched.password_confirm&&V.errors.password_confirm),fullWidth:!0,helperText:V.touched.password_confirm&&V.errors.password_confirm,label:"Confirm password",name:"password_confirm",onBlur:V.handleBlur,onChange:V.handleChange,type:"password",value:V.values.password_confirm}),(0,t.jsx)(g.Z,{variant:"outlined",onClick:function(){var e=c.generate({numbers:!0,symbols:!0});V.setFieldValue("password",e).then(function(){V.setFieldTouched("password",!0,!0)}),V.setFieldValue("password_confirm",e).then(function(){V.setFieldTouched("password_confirm",!0,!0)})},size:"large",children:"Generate password"}),(0,t.jsx)(P.I,{fullWidth:!0,label:"Phone number",name:"phone",onBlur:V.handleBlur,onChange:V.handleChange,type:"tel",value:V.values.phone}),(0,t.jsx)(P.I,{fullWidth:!0,label:"Company name",name:"company",onBlur:V.handleBlur,onChange:V.handleChange,type:"text",value:V.values.company})]}),(0,t.jsx)(w.Z,{sx:{alignItems:"center",display:"flex",ml:-1,mt:1}}),!!(V.touched.policy&&V.errors.policy)&&(0,t.jsx)(y.Z,{error:!0,children:V.errors.policy}),V.errors.submit&&(0,t.jsx)(y.Z,{error:!0,sx:{mt:3},children:V.errors.submit}),(0,t.jsx)(g.Z,{disabled:V.isSubmitting,fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:"Register"})]})]})})};A.defaultProps={title:"Register"},A.getLayout=function(e){return(0,t.jsx)(_.A,{children:e})},r.default=A}},function(e){e.O(0,[714,551,188,774,888,179],function(){return e(e.s=40941)}),_N_E=e.O()}]);