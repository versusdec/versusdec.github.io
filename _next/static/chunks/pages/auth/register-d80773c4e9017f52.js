(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{40941:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return n(84757)}])},61124:function(e,r,n){"use strict";n.d(r,{I:function(){return p}});var o=n(26042),s=n(69396),a=n(99534),t=n(828),i=n(85893),l=n(50135),u=n(16829),d=n(67294),c=n(66660),h=(0,u.Z)(l.Z)({"& .MuiFormHelperText-root.Mui-error":{position:"absolute",top:"100%"},"input::-webkit-outer-spin-button, input::-webkit-inner-spin-button":{WebkitAppearance:"none"},"& .MuiSelect-select":{paddingTop:21}}),p=function(e){var r=e.children,n=e.type,l=(0,a.Z)(e,["children","type"]),u=(0,t.Z)((0,d.useState)(l.value||""),2),p=u[0],m=u[1];(0,d.useEffect)(function(){m(l.value)},[l.value]);var x=function(e){var r;null===(r=l.onChange)||void 0===r||r.call(l,e)};return"color"===n?(0,i.jsx)(c.O,(0,s.Z)((0,o.Z)({},l),{type:"text"})):(0,i.jsx)(h,(0,s.Z)((0,o.Z)({},l),{type:n,value:p,onChange:function(e){m(e.target.value),l.select&&x(e)},onBlur:function(e){var r;l.select||x(e),null===(r=l.handleBlur)||void 0===r||r.call(l,e)},children:r}))}},62077:function(e,r,n){"use strict";n.d(r,{a:function(){return l}});var o=n(26042),s=n(99534),a=n(85893),t=n(87357),i=n(98456),l=function(e){var r=e.backdrop,n=e.sx;(0,s.Z)(e,["backdrop","sx"]);var l=(0,a.jsx)(t.Z,{sx:(0,o.Z)({position:"absolute",bottom:0,top:0,left:0,right:0,bgcolor:r?"rgb(0 0 1 / 30%)":"transparent",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},n),children:(0,a.jsx)(i.Z,{disableShrink:!0,color:"primary"})});return(0,a.jsx)(a.Fragment,{children:l})}},95993:function(e,r,n){"use strict";n.d(r,{A:function(){return l}});var o=n(85893),s=n(45697),a=n.n(s),t=n(87357),i=n(76515),l=function(e){var r,n=e.children,s=e.title?e.title:null!==(r=e.children)&&void 0!==r&&!!r.props.title&&e.children.props.title;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{title:s}),(0,o.jsxs)(t.Z,{sx:{backgroundColor:"background.default",display:"flex",flex:"1 1 auto",flexDirection:{xs:"column-reverse",md:"row"}},children:[(0,o.jsx)(t.Z,{sx:{alignItems:"center",backgroundColor:"#222223",backgroundImage:'url("/assets/auth_bg.svg")',backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:"common.white",display:"flex",flex:{xs:"0 0 auto",md:"1 1 auto"},justifyContent:"center",p:{xs:4,md:8}},children:(0,o.jsx)("img",{src:"/assets/logo.svg",alt:"",style:{maxWidth:"600px"}})}),(0,o.jsx)(t.Z,{sx:{backgroundColor:"background.paper",display:"flex",flex:{xs:"1 1 auto",md:"0 0 auto"},flexDirection:"column",justifyContent:{md:"center"},maxWidth:"100%",p:{xs:4,md:8},width:{md:500}},children:(0,o.jsx)("div",{children:n})})]})]})};l.propTypes={children:a().node}},84757:function(e,r,n){"use strict";n.r(r);var o=n(47568),s=n(828),a=n(70655),t=n(85893),i=n(41664),l=n.n(i),u=n(74231),d=n(82175),c=n(3269),h=n(64666),p=n(37645),m=n(93946),x=n(6514),f=n(31425),g=n(83321),v=n(26447),b=n(15861),j=n(23795),Z=n(87109),y=n(87357),w=n(56815),_=n(95993),C=n(93041),k=n(67294),B=n(95537),I=n(52186),S=n(58883),T=n(61124),E=n(17288),P=n(86501),W=n(62077),q={email:"",name:"",password:"",password_confirm:"",phone:"",company:""},F=u.Ry({email:u.Z_().email("Must be a valid email").max(255).required("Email is required"),name:u.Z_().max(255).required("Name is required"),password:u.Z_().min(8).max(255).required("Password is required"),password_confirm:u.Z_().oneOf([u.iH("password")],"Passwords must match").max(255).required("Password is required"),phone:u.Z_(),company:u.Z_()}),A=function(){var e=(0,s.Z)((0,k.useState)(!1),2),r=e[0],n=e[1];return{modalOpen:r,handleModal:function(){n(!r)}}},N=function(){var e,r=(0,s.Z)((0,k.useState)(!1),2),n=r[0],i=r[1],u=(0,E.a)(),_=u.loading,N=u.error,O=u.register,M=A(),R=M.modalOpen,z=M.handleModal;(0,k.useEffect)(function(){N&&P.ZP.error(N.message?N.message:"En error has occurred")},[N]);var V=(0,d.TA)({initialValues:q,validationSchema:F,onSubmit:(e=(0,o.Z)(function(e,r){var n,o,s;return(0,a.__generator)(this,function(a){switch(a.label){case 0:for(var t in a.trys.push([0,2,,3]),(null===(n=e.phone)||void 0===n?void 0:n.length)&&(e.phone=e.phone.replace(/[^0-9]/g,"")),e)""===e[t]&&delete e[t];return[4,O(e)];case 1:return console.log(o=a.sent()),o.error||z(),[3,3];case 2:return console.error(s=a.sent()),r.setStatus({success:!1}),r.setErrors({submit:s.message}),r.setSubmitting(!1),[3,3];case 3:return[2]}})}),function(r,n){return e.apply(this,arguments)})});return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{children:[_&&(0,t.jsx)(W.a,{backdrop:!0}),(0,t.jsxs)(h.Z,{open:R,onClose:z,scroll:"paper",maxWidth:"lg",children:[(0,t.jsxs)(p.Z,{sx:{pr:10},children:[(0,t.jsx)(m.Z,{"aria-label":"close",onClick:z,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.primary.main}},children:(0,t.jsx)(B.Z,{})}),"Registration confirm"]}),(0,t.jsx)(x.Z,{dividers:!0,children:"To complete your registration please check your email."}),(0,t.jsx)(f.Z,{children:(0,t.jsx)(g.Z,{type:"button",variant:"contained",onClick:z,children:"OK"})})]}),(0,t.jsxs)(v.Z,{sx:{mb:4},spacing:1,children:[(0,t.jsx)(b.Z,{variant:"h5",children:"Register"}),(0,t.jsxs)(b.Z,{color:"text.secondary",variant:"body2",children:["Already have an account? \xa0",(0,t.jsx)(j.Z,{component:l(),href:C.H.login,underline:"hover",variant:"subtitle2",children:"Log in"})]})]}),(0,t.jsxs)("form",{noValidate:!0,onSubmit:V.handleSubmit,children:[(0,t.jsxs)(v.Z,{spacing:3,children:[(0,t.jsx)(T.I,{error:!!(V.touched.name&&V.errors.name),fullWidth:!0,helperText:V.touched.name&&V.errors.name,label:"Name",name:"name",onBlur:V.handleBlur,onChange:V.handleChange,value:V.values.name}),(0,t.jsx)(T.I,{error:!!(V.touched.email&&V.errors.email),fullWidth:!0,helperText:V.touched.email&&V.errors.email,label:"Email Address",name:"email",onBlur:V.handleBlur,onChange:V.handleChange,type:"email",value:V.values.email}),(0,t.jsx)(T.I,{error:!!(V.touched.password&&V.errors.password),fullWidth:!0,helperText:V.touched.password&&V.errors.password,label:"Password",name:"password",onBlur:V.handleBlur,onChange:V.handleChange,type:n?"text":"password",value:V.values.password,InputProps:{endAdornment:(0,t.jsx)(Z.Z,{position:"end",children:(0,t.jsx)(m.Z,{"aria-label":"toggle password visibility",onClick:function(){i(!n)},color:"primary",children:n?(0,t.jsx)(I.Z,{}):(0,t.jsx)(S.Z,{})})})}}),(0,t.jsx)(T.I,{error:!!(V.touched.password_confirm&&V.errors.password_confirm),fullWidth:!0,helperText:V.touched.password_confirm&&V.errors.password_confirm,label:"Confirm password",name:"password_confirm",onBlur:V.handleBlur,onChange:V.handleChange,type:"password",value:V.values.password_confirm}),(0,t.jsx)(g.Z,{variant:"outlined",onClick:function(){var e=c.generate({numbers:!0,symbols:!0});V.setFieldValue("password",e).then(function(){V.setFieldTouched("password",!0,!0)}),V.setFieldValue("password_confirm",e).then(function(){V.setFieldTouched("password_confirm",!0,!0)})},size:"large",children:"Generate password"}),(0,t.jsx)(T.I,{fullWidth:!0,label:"Phone number",name:"phone",onBlur:V.handleBlur,onChange:V.handleChange,type:"tel",value:V.values.phone}),(0,t.jsx)(T.I,{fullWidth:!0,label:"Company name",name:"company",onBlur:V.handleBlur,onChange:V.handleChange,type:"text",value:V.values.company})]}),(0,t.jsx)(y.Z,{sx:{alignItems:"center",display:"flex",ml:-1,mt:1}}),!!(V.touched.policy&&V.errors.policy)&&(0,t.jsx)(w.Z,{error:!0,children:V.errors.policy}),V.errors.submit&&(0,t.jsx)(w.Z,{error:!0,sx:{mt:3},children:V.errors.submit}),(0,t.jsx)(g.Z,{disabled:V.isSubmitting,fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:"Register"})]})]})})};N.defaultProps={title:"Register"},N.getLayout=function(e){return(0,t.jsx)(_.A,{children:e})},r.default=N}},function(e){e.O(0,[714,235,188,774,567,179],function(){return e(e.s=40941)}),_N_E=e.O()}]);