(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{98757:function(r,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/restore",function(){return s(77960)}])},61124:function(r,e,s){"use strict";s.d(e,{I:function(){return l}});var n=s(26042),o=s(69396),t=s(99534),a=s(85893),i=s(57422),d=(0,s(16829).Z)(i.Z)({"& .MuiFormHelperText-root.Mui-error":{position:"absolute",top:"100%"}}),l=function(r){var e=r.children,s=(0,t.Z)(r,["children"]);return(0,a.jsx)(d,(0,o.Z)((0,n.Z)({},s),{children:e}))}},62077:function(r,e,s){"use strict";s.d(e,{a:function(){return d}});var n=s(26042),o=s(99534),t=s(85893),a=s(87357),i=s(98456),d=function(r){var e=r.backdrop,s=r.sx;(0,o.Z)(r,["backdrop","sx"]);var d=(0,t.jsx)(a.Z,{sx:(0,n.Z)({position:"absolute",bottom:0,top:0,left:0,right:0,bgcolor:e?"rgb(0 0 1 / 30%)":"transparent",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},s),children:(0,t.jsx)(i.Z,{disableShrink:!0,color:"primary"})});return(0,t.jsx)(t.Fragment,{children:d})}},95993:function(r,e,s){"use strict";s.d(e,{A:function(){return d}});var n=s(85893),o=s(45697),t=s.n(o),a=s(87357),i=s(76515),d=function(r){var e,s=r.children,o=r.title?r.title:null!==(e=r.children)&&void 0!==e&&!!e.props.title&&r.children.props.title;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{title:o}),(0,n.jsxs)(a.Z,{sx:{backgroundColor:"background.default",display:"flex",flex:"1 1 auto",flexDirection:{xs:"column-reverse",md:"row"}},children:[(0,n.jsx)(a.Z,{sx:{alignItems:"center",backgroundColor:"#222223",backgroundImage:'url("/assets/auth_bg.svg")',backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundSize:"cover",color:"common.white",display:"flex",flex:{xs:"0 0 auto",md:"1 1 auto"},justifyContent:"center",p:{xs:4,md:8}},children:(0,n.jsx)("img",{src:"/assets/logo.svg",alt:"",style:{maxWidth:"600px"}})}),(0,n.jsx)(a.Z,{sx:{backgroundColor:"background.paper",display:"flex",flex:{xs:"1 1 auto",md:"0 0 auto"},flexDirection:"column",justifyContent:{md:"center"},maxWidth:"100%",p:{xs:4,md:8},width:{md:500}},children:(0,n.jsx)("div",{children:s})})]})]})};d.propTypes={children:t().node}},77960:function(r,e,s){"use strict";s.r(e);var n=s(85893),o=s(39332),t=s(41664),a=s.n(t),i=s(74231),d=s(82580),l=s(26447),c=s(15861),u=s(83321),h=s(87357),p=s(23795),x=s(95993),m=s(93041),f=s(62077),g=s(61124),w=s(17288),b=s(86501),v=s(67294),j={password:"",password_confirm:"",token:""},Z=i.Ry({password:i.Z_().min(8).max(255).required("Password is required"),password_confirm:i.Z_().oneOf([i.iH("password"),null],"Passwords must match").max(255).required("Password is required")}),k=function(){var r=(0,o.useRouter)(),e={token:(0,o.useSearchParams)().get("t")||void 0}.token;j.token=e;var s=(0,w.a)(),t=s.loading,i=s.error,x=s.password;(0,v.useEffect)(function(){i&&b.ZP.error(i.message?i.message:"En error has occurred")},[i]);var k=(0,d.TA)({initialValues:j,validationSchema:Z,onSubmit:function(s,n){try{if(e){s.token=e;var o=x(s);console.log(o),o.error?b.ZP.error("Something went wrong"):r.push(m.H.login)}else b.ZP.error("Invalid token")}catch(t){console.error(t),n.setStatus({success:!1}),n.setErrors({submit:t.message}),n.setSubmitting(!1)}}});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{children:[t&&(0,n.jsx)(f.a,{backdrop:!0}),(0,n.jsx)(l.Z,{sx:{mb:4},spacing:1,children:(0,n.jsx)(c.Z,{variant:"h5",children:"Reset password"})}),(0,n.jsxs)("form",{noValidate:!0,onSubmit:k.handleSubmit,children:[(0,n.jsxs)(l.Z,{spacing:3,children:[(0,n.jsx)(g.I,{error:!!(k.touched.password&&k.errors.password),fullWidth:!0,helperText:k.touched.password&&k.errors.password,label:"New password",name:"password",onBlur:k.handleBlur,onChange:k.handleChange,type:"password",value:k.values.password}),(0,n.jsx)(g.I,{error:!!(k.touched.password_confirm&&k.errors.password_confirm),fullWidth:!0,helperText:k.touched.password_confirm&&k.errors.password_confirm,label:"Confirm password",name:"password_confirm",onBlur:k.handleBlur,onChange:k.handleChange,type:"password",value:k.values.password_confirm})]}),(0,n.jsx)(u.Z,{fullWidth:!0,sx:{mt:3},size:"large",type:"submit",variant:"contained",children:"Continue"}),(0,n.jsx)(h.Z,{sx:{mt:3},children:(0,n.jsx)(c.Z,{color:"text.secondary",variant:"body2",children:(0,n.jsx)(p.Z,{component:a(),href:m.H.forgot,underline:"hover",variant:"subtitle2",children:"Resend email"})})})]})]})})};k.defaultProps={title:"Restore"},k.getLayout=function(r){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(x.A,{children:r})})},e.default=k}},function(r){r.O(0,[551,774,888,179],function(){return r(r.s=98757)}),_N_E=r.O()}]);