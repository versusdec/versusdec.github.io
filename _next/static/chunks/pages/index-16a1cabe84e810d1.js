(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(9405)}])},9405:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return K}});var d,e,f,g=c(5893),h=c(9008),i=c.n(h),j=c(5113),k=c(6447),l=c(7357),m=c(5675),n=c.n(m),o=function(){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(j.Z,{variant:"outlined",sx:{bgcolor:"grey.200",p:3},children:(0,g.jsxs)(k.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,g.jsxs)(l.Z,{component:"footer",children:["\xa9 2021–",new Date().getFullYear()," ITOP1000 – All rights reserved."]}),(0,g.jsx)(l.Z,{children:(0,g.jsx)(n(),{src:"/vercel.svg",width:72,height:16})})]})})})},p=c(2293),q=c(7568),r=c(4051),s=c.n(r),t=c(9669),u=c.n(t),v=Object.freeze({currencies:{fetch:(e=(0,q.Z)(s().mark(function a(b){return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u().get("".concat("https://api.exchangerate.host/","convert?").concat(b),{method:"GET"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)})}}),w=c(7294);(f=d||(d={})).USD="USD",f.EUR="EUR",f.UAH="UAH";var x=function(a){var b=(0,w.useState)(null),c=b[0],d=b[1],e=(0,w.useState)(!0),f=e[0],g=e[1],h=(0,w.useState)(!1),i=h[0],j=h[1],k=new URLSearchParams({from:a.currencyCodeA,to:a.currencyCodeB}).toString();return(0,w.useEffect)(function(){(0,q.Z)(s().mark(function a(){var b;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.currencies.fetch(k).then(function(a){return a});case 3:d(b=a.sent.data),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),j(!0);case 10:g(!1);case 11:case"end":return a.stop()}},a,null,[[0,7]])}))()},[a]),{data:c,loading:f,error:i}},y=function(){var a=(0,w.useState)({usd:{currencyCodeA:d.USD,currencyCodeB:d.UAH},eur:{currencyCodeA:d.EUR,currencyCodeB:d.UAH}})[0],b=(0,w.useState)(0),c=b[0],e=b[1],f=(0,w.useState)(0),h=f[0],i=f[1],j=x(a.usd),m=x(a.eur);return(0,w.useEffect)(function(){m&&m.data&&e(m.data.info.rate.toFixed(2)),j&&j.data&&i(j.data.info.rate.toFixed(2))},[m,j]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(p.Z,{position:"static",children:(0,g.jsx)(l.Z,{component:"header",sx:{p:3},children:(0,g.jsxs)(k.Z,{direction:"row",spacing:3,justifyContent:"space-between",children:[(0,g.jsx)(l.Z,{children:(0,g.jsx)(n(),{src:"/vercel.svg",width:72,height:16})}),(0,g.jsxs)(k.Z,{direction:"row",spacing:2,children:[(0,g.jsxs)(l.Z,{children:[(0,g.jsx)("b",{children:"EUR"})," ",c]}),(0,g.jsxs)(l.Z,{children:[(0,g.jsx)("b",{children:"USD"})," ",h]})]})]})})})})},z=c(4924),A=c(6042),B=c(9396),C=c(5861),D=c(5796),E=c(8456),F=function(){var a=(0,g.jsx)(l.Z,{"data-testid":"loader",sx:{position:"absolute",bottom:0,top:0,left:0,right:0,bgcolor:"rgb(0 0 1 / 30%)",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,g.jsx)(E.Z,{color:"primary"})});return(0,g.jsx)(g.Fragment,{children:a})},G=c(442),H=function(a){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(G.Z,(0,A.Z)({sx:{minWidth:90}},a))})},I=function(){var a=(0,w.useState)({currencyCodeA:d.USD,currencyCodeB:d.UAH}),b=a[0],c=a[1],e=(0,w.useState)(0),f=e[0],h=e[1],i=(0,w.useState)(null),j=i[0],m=i[1],n=(0,w.useState)(null),o=n[0],p=n[1],q=x(b),r=q.data,s=q.loading,t=q.error;(0,w.useEffect)(function(){r&&h(r.info.rate)},[r,t]),(0,w.useEffect)(function(){j&&p(+j*f)},[f]),(0,w.useEffect)(function(){j&&p(+j*f)},[j]),(0,w.useEffect)(function(){o&&m(+o/f)},[o]);var u=function(a){c(function(b){return(0,B.Z)((0,A.Z)({},b),(0,z.Z)({},a.target.name,+a.target.value?+a.target.value:a.target.value))})},v=function(a){switch(a.target.name){case"amount":m(a.target.value);break;case"result":p(a.target.value)}};return(0,g.jsxs)(g.Fragment,{children:[s&&(0,g.jsx)(F,{}),(0,g.jsxs)(k.Z,{spacing:2,children:[(0,g.jsx)(l.Z,{children:(0,g.jsxs)(C.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:[!t&&"convert",t&&"an error is occurred"]})}),(0,g.jsxs)(k.Z,{direction:"row",spacing:2,children:[(0,g.jsx)(H,{type:"number",name:"amount",onChange:v,value:j||"",onKeyDown:function(a){return"e"===a.key&&a.preventDefault()}}),(0,g.jsxs)(H,{onChange:u,name:"currencyCodeA",select:!0,value:b.currencyCodeA,children:[(0,g.jsx)(D.Z,{value:d.USD,children:"USD"},"usd"),(0,g.jsx)(D.Z,{value:d.EUR,children:"EUR"},"eur"),(0,g.jsx)(D.Z,{value:d.UAH,children:"UAH"},"uah")]})]}),(0,g.jsxs)(k.Z,{direction:"row",spacing:2,children:[(0,g.jsx)(H,{type:"number",name:"result",onChange:v,value:o||"",onKeyDown:function(a){return"e"===a.key&&a.preventDefault()}}),(0,g.jsxs)(H,{onChange:u,name:"currencyCodeB",select:!0,value:b.currencyCodeB,children:[(0,g.jsx)(D.Z,{value:d.USD,children:"USD"},"usd"),(0,g.jsx)(D.Z,{value:d.EUR,children:"EUR"},"eur"),(0,g.jsx)(D.Z,{value:d.UAH,children:"UAH"},"uah")]})]})]})]})},J=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i(),{children:[(0,g.jsx)("title",{children:"ITOP1000"}),(0,g.jsx)("meta",{name:"description",content:"ITOP1000"}),(0,g.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,g.jsx)(y,{}),(0,g.jsx)(l.Z,{component:"main",sx:{p:3},children:(0,g.jsx)(j.Z,{elevation:3,children:(0,g.jsx)(l.Z,{p:{md:5,sm:3,xs:2},children:(0,g.jsx)(I,{})})})}),(0,g.jsx)(o,{})]})},K=J}},function(a){a.O(0,[642,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])